<!--Container Main start-->
<main class="content">
    <div class="container-fluid p-0">
        <div class="row mb-2 mb-lg-4">
            <div class="col-md-12 d-lg-flex align-items-center main-hdng">
                <div class="col-md-6">
                    <h3>Create PJP</h3>
                </div>
                <div class="col-md-6">
                    <div class="">
                        <nav style="--bs-breadcrumb-divider: '';" aria-label="breadcrumb">
                            <ol class="breadcrumb justify-content-end">
                                <li class="breadcrumb-item active">PJP</li>
                                <li class="breadcrumb-item" aria-current="page">Create PJP</li>
                            </ol>
                        </nav>
                    </div>

                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 ">
                <div class="crt_pjp_top">
                    <div class="crt_pjp_lft">
                        <h4>Date & Staff</h4>
                    </div>
                    <div class="crt_pjp_rit">
                        <strong>Create PJP for</strong>
                        <ng-container *ngIf="isSelf">
                            <div class="form-check d-inline-block align-middle me-3 mb-2">
                                <input class="form-check-input" type="radio" name="pjp_type" id="assigned_users"
                                    value="0" (change)="onChangePjpType($event)" checked="true">
                                <label class="form-check-label" for="assigned_users">Self</label>
                            </div>
                            <div class="form-check d-inline-block align-middle mb-2">
                                <input class="form-check-input" type="radio" name="pjp_type" id="assigned_groups"
                                    value="1" (change)="onChangePjpType($event)">
                                <label class="form-check-label" for="assigned_groups">Subordinate</label>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="!isSelf">
                            <div class="form-check d-inline-block align-middle me-3 mb-2">
                                <input class="form-check-input" type="radio" name="pjp_type" id="assigned_users"
                                    value="0" (change)="onChangePjpType($event)" checked="true">
                                <label class="form-check-label" for="assigned_users">Self</label>
                            </div>
                            <div class="form-check d-inline-block align-middle mb-2">
                                <input class="form-check-input" type="radio" name="pjp_type" id="assigned_groups"
                                    value="1" (change)="onChangePjpType($event)" checked="true">
                                <label class="form-check-label" for="assigned_groups">Subordinate</label>
                            </div>
                        </ng-container>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 ">

                <div class="bg-white shadow_d py-4 px-4 rounded-3 border">
                    <div id="datatables-reponsive_wrapper" class="dataTables_wrapper dt-bootstrap5 no-footer">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="can_sc">
                                    <a (click)="openDateCalenderModal()" href="javascript:void(0)">
                                        <strong>6th January 2021</strong>
                                        <span>You are selected this date for PJP</span>
                                    </a>
                                    <span class="ref_btn">
                                        <img src="assets/images/refresh-icon.png">
                                    </span>

                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="execut_sc p_files" *ngIf="!isSelf">
                                    <ng-container *ngIf="!isSelected">
                                        <img src="assets/images/no-profil-pic.png">
                                        <div class="execut_sc_in ">
                                            <strong>Select Employee</strong>
                                            <span>Marketing Executive for the PJP</span>
                                        </div>
                                    </ng-container>
                                    <ng-container *ngIf="isSelected">
                                        <img src="assets/images/no-profil-pic.png">
                                        <div class="execut_sc_in ">
                                            <strong>{{selectedEmpDeails.name}}</strong>
                                            <span>{{selectedEmpDeails.designation}}</span>
                                        </div>
                                    </ng-container>
                                    <div>
                                        <a class="p_files_edt_icm" href="javascript:void(0)"
                                            (click)="openSubOrdinateModal()"><img src="assets/images/create.svg"
                                                alt="create">
                                        </a>
                                    </div>
                                </div>
                                <div class="execut_sc p_files" *ngIf="isSelf">
                                    <ng-container *ngIf="isSelected">
                                        <img src="assets/images/no-profil-pic.png">
                                        <div class="execut_sc_in ">
                                            <strong>{{selectedEmpDeails.name}}</strong>
                                            <span>{{selectedEmpDeails.designation}}</span>
                                        </div>
                                    </ng-container>
                                </div>

                            </div>
                            <div class="col-lg-4">
                                <div class="q_files">
                                    <label for="district_name" class="form-label">Task Type</label>
                                    <div class="input-group">
                                        <select class="form-select" aria-label="Default select example" id="status_type"
                                            [ngModel]="selectedTaskType" (ngModelChange)="onChangeTaskType($event)">
                                            <option value="">Select from list
                                            </option>
                                            <option *ngFor="let task of allTaskType" [value]="task.taskId">
                                                {{task.taskName}}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 ">
                <div class="crt_pjp_top">
                    <div class="crt_pjp_lft">
                        <h4>Select Visit Point</h4>
                    </div>
                    <div class="crt_pjp_rit">
                        <label for="status_type" class="form-label d-block-inline"><strong>Visit
                                to</strong>
                        </label>
                        <div *ngFor="let category of allContactCategoryType;"
                            class="form-check d-inline-block align-middle me-3 mb-2">
                            <input class="form-check-input" type="radio" value={{category.slNo}}
                                name="contact_category_type" id="assigned_users"
                                (change)="onChangeContactCategory($event)">
                            <label class="form-check-label" for="assigned_users">{{category.name}}</label>
                        </div>
                        <!-- <div class="form-check d-inline-block align-middle mb-2">
                            <input class="form-check-input" type="radio" name="assigned" id="assigned_groups"
                                checked="">
                            <label class="form-check-label" for="assigned_groups">Influenceer</label>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 ">

                <div class="bg-white shadow_d py-4 px-4 rounded-3 border">
                    <div id="datatables-reponsive_wrapper" class="dataTables_wrapper dt-bootstrap5 no-footer">
                        <div class="row">

                            <div class="col-md-7 col-sm-12">
                                <div class="row">
                                    <div class="col-md-3">
                                        <label for="district_name" class="form-label">State Name</label>
                                        <div class="input-group">
                                            <select class="form-select" aria-label="Default select example"
                                                id="status_type" [ngModel]="stateId"
                                                (ngModelChange)="onChangeState($event)">
                                                <option value="">Select from list
                                                </option>
                                                <option *ngFor="let state of allState" [value]="state.id">
                                                    {{state.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="district_name" class="form-label">District Name</label>
                                        <div class="input-group">
                                            <select class="form-select" aria-label="Default select example"
                                                id="status_type" [ngModel]="districtType"
                                                (ngModelChange)="onChangeDistrict($event)">
                                                <option value="">Select from list
                                                </option>
                                                <option *ngFor="let district of allDistrictType" [value]="district.id">
                                                    {{district.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="district_name" class="form-label">Zone Name</label>
                                        <div class="input-group">
                                            <select class="form-select" aria-label="Default select example"
                                                id="status_type" [ngModel]="zoneType"
                                                (ngModelChange)="onChangeZone($event)">
                                                <option value="">Select from list
                                                </option>
                                                <option *ngFor="let zone of allZoneType" [value]="zone.id">
                                                    {{zone.name}}</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="district_name" class="form-label">Visitor Type</label>
                                        <div class="input-group">
                                            <select class="form-select" aria-label="Default select example"
                                                id="status_type" [(ngModel)]="visitorType"
                                                (ngModelChange)="onChangeVisitorType($event)">
                                                <option value="">Select from list
                                                </option>
                                                <option *ngFor="let visitor of allVisitorType"
                                                    [value]="visitor.contactTypeId">
                                                    {{visitor.contactTypeName}}</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="brdr"></div>
                                <div class="row mt-2 mb-2">
                                    <div class="col-md-12">

                                        <div class="input-group srch_box">
                                            <input type="text" name="Customer name" class="form-control"
                                                placeholder="Search" id="">
                                            <button><i class="fa fa-search"></i></button>
                                        </div>
                                    </div>
                                </div>
                                <div id="simplebarright">
                                    <div *ngIf="!isContactList">
                                        <h5 class="res_hd text-primary mt-3 mb-3">Get Result</h5>
                                        <div class="row">
                                            <div class="col-lg-6 sech_list_bk">
                                                <ul>
                                                    <li>
                                                        <img src="assets/images/glob-al.png" alt="create">
                                                        <strong>Please Select District form top</strong>
                                                    </li>
                                                    <li>
                                                        <img src="assets/images/glob-a1.png" alt="create">
                                                        <strong>Please Select Zone form top</strong>
                                                    </li>
                                                    <li>
                                                        <img src="assets/images/no-profil-pic-d.png" alt="create">
                                                        <strong>Please Visitor Type form top</strong>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="col-lg-6 sech_div">
                                                <img src="assets/images/search-icon.png" alt="create">
                                                <p>You Can filter your result more by search by visitor's name
                                                    or number from top search bar.</p>
                                            </div>
                                        </div>
                                    </div>
                                    <ng-container *ngIf="isContactList">
                                        <div class="sech_list" *ngFor="let data of allContactTypeList">
                                            <div class="cnk_slect">
                                                <div class="form-check date">
                                                    <input class="form-check-input me-2" type="checkbox"
                                                        [value]='data.contactId' id="show_event"
                                                        (click)="selectCheckboxOfContact($event)">
                                                    <label class="form-check-label" for="show_event">&nbsp;</label>
                                                </div>
                                                <div class="p_files">
                                                    <img src="assets/images/profl-pic.png" alt="create">
                                                    <div>
                                                        <strong>{{data.firstName}} {{data.lastName}}</strong>
                                                        <span>Relationship : {{data.contactTypeName}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="vst_rsgn" *ngIf="data.isSelected">
                                                <span>Visit Reason <i class="fa fa-circle text-success"
                                                        aria-hidden="true"></i></span>
                                                <a href="javascript:void(0)" class="d-inline-block align-middle"
                                                    (click)="visitInfoClick(data.contactId)">
                                                    <img src=" assets/images/create.svg" alt="create">
                                                </a>
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>

                            </div>
                            <div class="col-md-5 col-sm-12">
                                <h4>Write Visit Purpose</h4>
                                <div class="wri_box">
                                    <div class="p_files" *ngIf="visitArray.length == 0">
                                        <img src="assets/images/no-profil-pic.png" alt="">
                                        <div>
                                            <strong>Visit Purpose for a seller</strong>
                                            <span>Click on the button <img style="width:20px"
                                                    src="assets/images/create.svg" alt="create"> to write a
                                                visit rason</span>
                                        </div>
                                    </div>

                                    <ng-container *ngIf="visitArray.length > 0">
                                        <ng-container *ngFor="let visit of visitArray; let i = index">
                                            <div class="p_files">
                                                <img src="assets/images/profl-pic.png" alt="create">
                                                <div>
                                                    <strong>{{visit.firstName}} {{visit.lastName}}</strong>
                                                    <span>Relationship : {{visit.contactTypeName}}</span>
                                                </div>
                                            </div>
                                            <ng-container *ngIf="visit.pjpData.length>0">
                                                <div class="pay_flw_up" *ngFor="let pjpData of visit.pjpData">
                                                    <i class="fa fa-question text-danger" aria-hidden="true"></i>
                                                    <strong>{{pjpData.taskName}}</strong>
                                                    <p>{{pjpData.taskDescription}}</p>
                                                    <span><i class="fa fa-trash text-danger" aria-hidden="true"
                                                            (click)="deletePjpTask(i)"></i></span>
                                                </div>
                                            </ng-container>
                                        </ng-container>
                                    </ng-container>
                                    <ng-container *ngIf="!currPjp">
                                        <div class="compny_select">
                                            <div class="col-md-12">
                                                <div class="input-group">
                                                    <select class="form-select" aria-label="Default select example"
                                                        id="status_type" [ngModel]="selectedTaskType"
                                                        (ngModelChange)="onChangeTaskType($event)">
                                                        <option value="">Select from list
                                                        </option>
                                                        <option *ngFor="let task of allTaskType" [value]="task.taskId">
                                                            {{task.taskName}}</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-12 mt-2 mb-3">
                                                <div class="input-group">
                                                    <textarea name="task_desc" class="form-control"
                                                        placeholder="Additional Note here" id=""
                                                        [(ngModel)]="selectedTaskDescription"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </ng-container>

                                    <div class="pre_plan_vist">

                                        <div class="note_sc">
                                            <p>You have selected <strong class="text-primary">3</strong>
                                                locations forn the PJP but did't write any reason those
                                                visit <strong class="text-danger">2</strong> of those
                                                location. Please mention reason before create the PJP
                                            </p>
                                            <button class="btn btn-secondary2 btn-sm"
                                                (click)="addVisitDataintoClient()">Add</button>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <button class="btn btn-info vewpjp" (click)="viewPjpRouteMap()">View PJP Route Map</button>
                    </div>


                </div>
                <a class="btn btn-primary vewpjp" data-bs-target="#addContactModal3" data-bs-toggle="modal"
                    data-bs-dismiss="modal" href="javascript:void(0)">Create PJP</a>

            </div>
        </div>
    </div>
</main>


<!---add new popup start--->
<!-- .........Popup for subordinate List.......... -->
<ng-template #subordinateListModal>
    <div class="addContactModal">
        <div class="modal-header">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col-sm-10">
                        <h3 class="modal-title d-inline-block align-middle me-2">Select Employee for the PJP</h3>

                    </div>
                    <div class="col-sm-2 d-flex justify-content-end"><button type="button" data-bs-dismiss="modal"
                            aria-label="Close" class="btn-close" (click)="closeModal()"></button></div>
                </div>
            </div>
        </div>
        <div class="modal-body">
            <div class="container-fluid  bg-white shadow_d py-4 px-4 rounded-3 mt-3 mb-3 p-3">
                <div class="row">
                    <div class="col-md-12 col-sm-12 add_pjp_pp">
                        <div class="row">
                            <div class="col-md-4">
                                <label for="district_name" class="form-label">District Name</label>
                                <div class="input-group">
                                    <select class="form-select" aria-label="Default select example" id="status_type">
                                        <option selected="Select an options">Select from list</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <label for="district_name" class="form-label">Zone Name</label>
                                <div class="input-group">
                                    <select class="form-select" aria-label="Default select example" id="status_type">
                                        <option selected="Select an options">Select from list</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <label for="district_name" class="form-label">Visitor Type</label>
                                <div class="input-group">
                                    <select class="form-select" aria-label="Default select example" id="status_type">
                                        <option selected="Select an options">Select from list</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="brdr"></div>
                        <div class="row mt-2 mb-2">
                            <div class="col-md-12">

                                <div class="input-group srch_box">
                                    <input type="text" name="Customer name" class="form-control" placeholder="Search"
                                        id="">
                                    <button><i class="fa fa-search"></i></button>
                                </div>
                            </div>
                        </div>
                        <div id="">
                            <div class="sech_list_out">
                                <div class="sech_list_list" *ngFor="let data of allSubordinateList">
                                    <div class="sech_list">
                                        <div class="cnk_slect">

                                            <div class="form-check d-inline-block align-middle me-3">
                                                <input class="form-check-input" type="radio" name="employee"
                                                    id="assigned_groups" [value]="data.userId"
                                                    (click)="onchangeEmployeeSubList($event)">
                                                <label class="form-check-label" for="assigned_groups"></label>
                                            </div>
                                            <div class="p_files">
                                                <img src="assets/images/profl-pic.png" alt="create">
                                                <div>
                                                    <strong>{{data.name}}</strong>
                                                    <span>{{data.designation}}</span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="can_sc forday">
                                            <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                            <strong>{{data.datesOfPrePlanVisit}} days</strong>
                                            <span>Preplan Visit</span>


                                        </div>
                                        <div class="vst_rsgn">

                                            <span class="accordion-button collapsed" type="button"
                                                data-bs-toggle="collapse" data-bs-target="#collapsebuisnessTwo"
                                                aria-expanded="false" aria-controls="collapsebuisnessTwo">View
                                                details</span>

                                        </div>

                                    </div>
                                    <div id="collapsebuisnessTwo" class="accordion-collapse collapse"
                                        aria-labelledby="headingbuisnessTwo" data-bs-parent="#accordionExamplebuisness">
                                        <div class="accordion-body">
                                            <div class="pre_plan_vist">
                                                <h4>Preplan Visit</h4>

                                                <div class="tabl_div_sec" *ngFor="let plan of data.allPrePlanVisit">

                                                    <div class="cle"><i class="fa fa-calendar"
                                                            aria-hidden="true"></i>{{plan.date}}</div>
                                                    <div class="mo_nm"><i class="fa fa-map-marker"
                                                            aria-hidden="true"></i>
                                                        <div><strong>{{plan.visitorName}}</strong><span>{{plan.district}},
                                                                {{plan.zone}}</span></div>
                                                    </div>
                                                    <div class="lnce"><i class="fa fa-question" aria-hidden="true"></i>
                                                        <div>
                                                            <strong>{{plan.task}}</strong><span>{{plan.description}}</span>
                                                        </div>
                                                    </div>

                                                </div>


                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <button class="btn btn-success vewpjp" (click)="selectEmployeeForPjP()">Save</button>
                </div>


            </div>


        </div>
    </div>
</ng-template>
<!-- </div> -->


<ng-template #selectDateModal>
    <div class="addContactModal">
        <div class="modal-header">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col-sm-10">
                        <h3 class="modal-title d-inline-block align-middle me-2">Shedule PJP Date</h3>

                    </div>
                    <div class="col-sm-2 d-flex justify-content-end"><button type="button" aria-label="Close"
                            class="btn-close" (click)="closeModal()"></button></div>
                </div>
            </div>
        </div>
        <div class="modal-body">
            <div class="container-fluid  bg-white shadow_d py-4 px-4 rounded-3 mt-3 mb-3 p-3">
                <div class="row">
                    <div class="col-md-12 col-sm-12 can_sc_hd">
                        <div class="can_sc">
                            <a data-bs-target="#addContactModal1" data-bs-toggle="modal" data-bs-dismiss="modal"
                                href="javascript:void(0)">
                                <strong>6th January 2021</strong>
                                <span>You are selected this date for PJP</span>
                            </a>


                        </div>
                        <button class="btn btn-success">Save</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 col-sm-12 add_pjp_pp">

                        <div class="calender_box_dv">
                            <div class="calendar calendar-first" id="calendar_first">
                                <!-- <div class="calendar_header">
                                    <button class="switch-month switch-left"> <i
                                            class="fa fa-chevron-left"></i></button>
                                    <h2></h2>
                                    <button class="switch-month switch-right"> <i
                                            class="fa fa-chevron-right"></i></button>
                                </div> -->
                                <!-- <div class="calendar_weekdays"></div>
                                    <div class="calendar_content"></div> -->
                                <div>
                                    <app-pjp-calender></app-pjp-calender>
                                </div>
                            </div>
                        </div>
                        <!-- <div>
                            <app-pjp-calender></app-pjp-calender>
                        </div> -->

                    </div>


                </div>


            </div>
        </div>
    </div>
</ng-template>
<!-- <div id="addContactModal2" tabindex="-1" aria-labelledby="addContactModal" class="modal fade addContactModal"
    aria-hidden="true"> -->
<ng-template #addContactModal2>
    <!-- <div class="modal-dialog modal-dialog-centered modal-sm"> -->
    <!-- <div class="modal-content"> -->
    <div class="addContactModal">
        <!-- <div class="modal-header"> -->
        <!-- <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col-sm-12 d-flex justify-content-end">
                        <button class="btn-close" (click)="closeModal()"></button>
                    </div>
                </div>
            </div> -->
        <!-- </div> -->
        <div class="modal-body">
            <div class="container-fluid  bg-white shadow_d py-4 px-4 rounded-3 mt-3 mb-3 p-3">
                <div class="row align-items-center">
                    <div class="col-sm-12 d-flex justify-content-end">
                        <button class="btn-close pjp_error_mod" (click)="closeModal()"></button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 col-sm-12 alart_popu">

                        <div class="alart_pop">
                            <img class="d-inline-block align-middle" src="assets/images/alart-icon.png" alt="">
                            <p>
                                <!-- <strong>Select Atleast one visit point</strong> -->
                                <strong>{{errorString}}</strong>
                            </p>
                        </div>
                        <button class="btn btn-success" (click)="closeModal()">Ok</button>

                    </div>
                </div>



            </div>
        </div>
    </div>
    <!-- </div> -->
</ng-template>
<!-- </div> -->


<ng-template #addContactModal4>
    <!-- <div id="addContactModal4" tabindex="-1" aria-labelledby="addContactModal" class="modal fade addContactModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content"> -->
    <div class="addContactModal">
        <div class="modal-header">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col-sm-6 d-flex justify-content-start"><strong class="summ_hd">Summery of the
                            created PJP</strong></div>
                    <div class="col-sm-6 d-flex justify-content-end">
                        <button type="button" data-bs-dismiss="modal" aria-label="Close" class="btn-close"
                            (click)="closeModal()"></button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-body">
            <div class="container-fluid  bg-white shadow_d py-4 px-4 rounded-3 mt-3 mb-3 p-3">
                <div class="row">
                    <div class="col-md-12 col-sm-12 alart_popu_route">

                        <div class="row">
                            <div class="col-md-12 ">

                                <div class="py-4 px-4 rounded-3">
                                    <div id="datatables-reponsive_wrapper"
                                        class="dataTables_wrapper dt-bootstrap5 no-footer">
                                        <div class="row">
                                            <div class="col-lg-5">
                                                <div class="can_sc">
                                                    <a href="javascript:void(0)">
                                                        <strong>6th January 2021</strong>
                                                        <span>You are selected this date for PJP</span>
                                                    </a>


                                                </div>
                                            </div>
                                            <div class="col-lg-5">
                                                <div class="execut_sc p_files">
                                                    <img src="assets/images/profl-pic.png">
                                                    <div class="execut_sc_in ">
                                                        <span>You are selected</span>
                                                        <strong>Ramen Das</strong>
                                                        <span>Marketing Executive for the PJP</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-2">
                                                <div class="can_sc forday">
                                                    <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                                    <strong>4 days</strong>
                                                    <span>Preplan Visit</span>


                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 ">

                                <div class="selc_vsjct">
                                    <div class="selc_vsjct_in">
                                        <div class="sel_area">
                                            <strong>Selected Area</strong>
                                        </div>
                                        <div class="sech_list_bk_pop">
                                            <ul>
                                                <li>
                                                    <img src="assets/images/glob-al.png" alt="create">
                                                    <strong>West Bengal</strong>
                                                </li>

                                                <li>
                                                    <img src="assets/images/glob-a2.png" alt="create">
                                                    <strong>Bankura</strong>
                                                </li>
                                                <li>
                                                    <img src="assets/images/glob-a1.png" alt="create">
                                                    <strong>Zone - 3</strong>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="slect_dv">
                                    <div class="slect_vs">
                                        <strong>Selected Visitor</strong>
                                    </div>
                                    <div class="scrol_div">
                                        <div class="sech_list">
                                            <div class="cnk_slect">

                                                <div class="p_files">
                                                    <img src="assets/images/profl-pic.png" alt="create">
                                                    <div>
                                                        <strong>Ghosh Hardware &amp; Iron</strong>
                                                        <span>Relationship : Dealer</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="vst_rsgn_pay">

                                                <i class="fa fa-question text-black" aria-hidden="true"></i>
                                                <strong>Visit Reason</strong>
                                                <p>Payment Collection</p>

                                            </div>
                                            <div class="can_sc forday">
                                                <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                                <strong>3time visited</strong>
                                                <span>during last 30 days</span>


                                            </div>


                                        </div>
                                        <div class="sech_list">
                                            <div class="cnk_slect">

                                                <div class="p_files">
                                                    <img src="assets/images/profl-pic.png" alt="create">
                                                    <div>
                                                        <strong>Ghosh Hardware &amp; Iron</strong>
                                                        <span>Relationship : Dealer</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="vst_rsgn_pay">

                                                <i class="fa fa-question text-black" aria-hidden="true"></i>
                                                <strong>Visit Reason</strong>
                                                <p>Payment Collection</p>

                                            </div>
                                            <div class="can_sc forday">
                                                <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                                <strong>3time visited</strong>
                                                <span>during last 30 days</span>


                                            </div>


                                        </div>
                                        <div class="sech_list">
                                            <div class="cnk_slect">

                                                <div class="p_files">
                                                    <img src="assets/images/profl-pic.png" alt="create">
                                                    <div>
                                                        <strong>Ghosh Hardware &amp; Iron</strong>
                                                        <span>Relationship : Dealer</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="vst_rsgn_pay">

                                                <i class="fa fa-question text-black" aria-hidden="true"></i>
                                                <strong>Visit Reason</strong>
                                                <p>Payment Collection</p>

                                            </div>
                                            <div class="can_sc forday">
                                                <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                                <strong>3time visited</strong>
                                                <span>during last 30 days</span>


                                            </div>


                                        </div>
                                        <div class="sech_list">
                                            <div class="cnk_slect">

                                                <div class="p_files">
                                                    <img src="assets/images/profl-pic.png" alt="create">
                                                    <div>
                                                        <strong>Ghosh Hardware &amp; Iron</strong>
                                                        <span>Relationship : Dealer</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="vst_rsgn_pay">

                                                <i class="fa fa-question text-black" aria-hidden="true"></i>
                                                <strong>Visit Reason</strong>
                                                <p>Payment Collection</p>

                                            </div>
                                            <div class="can_sc forday">
                                                <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                                <strong>3time visited</strong>
                                                <span>during last 30 days</span>


                                            </div>


                                        </div>
                                        <div class="sech_list">
                                            <div class="cnk_slect">

                                                <div class="p_files">
                                                    <img src="assets/images/profl-pic.png" alt="create">
                                                    <div>
                                                        <strong>Ghosh Hardware &amp; Iron</strong>
                                                        <span>Relationship : Dealer</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="vst_rsgn_pay">

                                                <i class="fa fa-question text-black" aria-hidden="true"></i>
                                                <strong>Visit Reason</strong>
                                                <p>Payment Collection</p>

                                            </div>
                                            <div class="can_sc forday">
                                                <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                                <strong>3time visited</strong>
                                                <span>during last 30 days</span>


                                            </div>


                                        </div>
                                        <div class="sech_list">
                                            <div class="cnk_slect">

                                                <div class="p_files">
                                                    <img src="assets/images/profl-pic.png" alt="create">
                                                    <div>
                                                        <strong>Ghosh Hardware &amp; Iron</strong>
                                                        <span>Relationship : Dealer</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="vst_rsgn_pay">

                                                <i class="fa fa-question text-black" aria-hidden="true"></i>
                                                <strong>Visit Reason</strong>
                                                <p>Payment Collection</p>

                                            </div>
                                            <div class="can_sc forday">
                                                <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                                <strong>3time visited</strong>
                                                <span>during last 30 days</span>


                                            </div>


                                        </div>
                                        <div class="sech_list">
                                            <div class="cnk_slect">

                                                <div class="p_files">
                                                    <img src="assets/images/profl-pic.png" alt="create">
                                                    <div>
                                                        <strong>Ghosh Hardware &amp; Iron</strong>
                                                        <span>Relationship : Dealer</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="vst_rsgn_pay">

                                                <i class="fa fa-question text-black" aria-hidden="true"></i>
                                                <strong>Visit Reason</strong>
                                                <p>Payment Collection</p>

                                            </div>
                                            <div class="can_sc forday">
                                                <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                                <strong>3time visited</strong>
                                                <span>during last 30 days</span>


                                            </div>


                                        </div>
                                        <div class="sech_list">
                                            <div class="cnk_slect">

                                                <div class="p_files">
                                                    <img src="assets/images/profl-pic.png" alt="create">
                                                    <div>
                                                        <strong>Ghosh Hardware &amp; Iron</strong>
                                                        <span>Relationship : Dealer</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="vst_rsgn_pay">

                                                <i class="fa fa-question text-black" aria-hidden="true"></i>
                                                <strong>Visit Reason</strong>
                                                <p>Payment Collection</p>

                                            </div>
                                            <div class="can_sc forday">
                                                <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                                <strong>3time visited</strong>
                                                <span>during last 30 days</span>


                                            </div>


                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-md-12 ">

                                <div class="rout_map sec_dv" style="height: 450px;">
                                    <!-- <img src="assets/images/route-map.png"> -->
                                    <app-pjp-map></app-pjp-map>
                                </div>


                            </div>
                            <div class="d-flex justify-content-center mt-3 mb-3">
                                <button class="btn btn-pink">Edit</button>
                                <button class="btn btn-success">Confirm& Save</button>
                            </div>
                        </div>



                    </div>
                </div>



            </div>
        </div>
    </div>
    <!-- </div>
    </div>
</div> -->
</ng-template>

<!-- preplan visit popup -->
<!-- <div id="addContactModal5" tabindex="-1" aria-labelledby="addContactModal" class="modal fade addContactModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <div class="container-fluid">
                    <div class="row align-items-center">
                        <div class="col-sm-6 d-flex justify-content-start"><strong class="summ_hd">My Preplaned Visit
                                for PJP</strong></div>
                        <div class="col-sm-6 d-flex justify-content-end"><button type="button" data-bs-dismiss="modal"
                                aria-label="Close" class="btn-close"></button></div>
                    </div>
                </div>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12 col-sm-12 alart_popu_route bg-white shadow_d rounded-3 border mt-3 mb-3">
                            <p>&nbsp;</p>
                            <div class="preplan_hdf">

                                <div class="execut_sc p_files">
                                    <img src="assets/images/no-profil-pic.png">
                                    <div class="execut_sc_in ">
                                        <strong>Select Employee</strong>
                                    </div>

                                </div>
                                <div class="btn_hd_dv">
                                    <div class="select_dtime_fm">
                                        <select class="form-select">
                                            <option>Select Time Frame</option>
                                        </select>
                                    </div>

                                    <button class="btn btn-success">Make Another Visit Plan</button>
                                </div>

                            </div>

                            <div class="pre_plan_vist pop_preplan bg-white shadow_d py-4 px-4 rounded-3 border mb-3">
                                <h4>Preplan Visit</h4>
                                <div class="tabl_div_sec">

                                    <div class="cle"><i class="fa fa-calendar" aria-hidden="true"></i>23-02-21</div>
                                    <div class="mo_nm"><i class="fa fa-map-marker" aria-hidden="true"></i>
                                        <div><strong>Sunrise Construction</strong><span>Bankura Zone2</span></div>
                                    </div>
                                    <div class="lnce"><i class="fa fa-question" aria-hidden="true"></i>
                                        <div><strong>Payment Followup</strong><span>I will Visit for a final price
                                                negotation</span></div>
                                    </div>

                                </div>
                                <div class="tabl_div_sec">

                                    <div class="cle"><i class="fa fa-calendar" aria-hidden="true"></i>23-02-21</div>
                                    <div class="mo_nm"><i class="fa fa-map-marker" aria-hidden="true"></i>
                                        <div><strong>Sunrise Construction</strong><span>Bankura Zone2</span></div>
                                    </div>
                                    <div class="lnce"><i class="fa fa-question" aria-hidden="true"></i>
                                        <div><strong>Payment Followup</strong><span>I will Visit for a final price
                                                negotation</span></div>
                                    </div>

                                </div>
                                <div class="tabl_div_sec">

                                    <div class="cle"><i class="fa fa-calendar" aria-hidden="true"></i>23-02-21</div>
                                    <div class="mo_nm"><i class="fa fa-map-marker" aria-hidden="true"></i>
                                        <div><strong>Sunrise Construction</strong><span>Bankura Zone2</span></div>
                                    </div>
                                    <div class="lnce"><i class="fa fa-question" aria-hidden="true"></i>
                                        <div><strong>Payment Followup</strong><span>I will Visit for a final price
                                                negotation</span></div>
                                    </div>

                                </div>
                                <div class="tabl_div_sec">

                                    <div class="cle"><i class="fa fa-calendar" aria-hidden="true"></i>23-02-21</div>
                                    <div class="mo_nm"><i class="fa fa-map-marker" aria-hidden="true"></i>
                                        <div><strong>Sunrise Construction</strong><span>Bankura Zone2</span></div>
                                    </div>
                                    <div class="lnce"><i class="fa fa-question" aria-hidden="true"></i>
                                        <div><strong>Payment Followup</strong><span>I will Visit for a final price
                                                negotation</span></div>
                                    </div>

                                </div>


                            </div>



                        </div>
                    </div>



                </div>
            </div>
        </div>
    </div>
</div> -->
<!-- preplan visit for PJP popup -->
<!-- <div id="addContactModal5" tabindex="-1" aria-labelledby="addContactModal" class="modal fade addContactModal show"
    aria-hidden="true"> -->
<ng-template #prePlannedVisitModal class="addContactModal">
    <!-- <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content"> -->
    <div class="addContactModal">
        <div class="modal-header">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col-sm-6 d-flex justify-content-start"><strong class="summ_hd">My Preplaned Visit
                            for PJP</strong></div>
                    <div class="col-sm-6 d-flex justify-content-end"><button type="button" data-bs-dismiss="modal"
                            aria-label="Close" class="btn-close"></button></div>
                </div>
            </div>
        </div>
        <div class="modal-body">
            <div class="container-fluid bg-white shadow_d py-4 px-4 rounded-3 mt-3 mb-3 p-3">
                <div class="row">
                    <div class="col-md-4">
                        <label for="district_name" class="form-label">District Name</label>
                        <div class="input-group">
                            <select class="form-select" aria-label="Default select example" id="status_type">
                                <option selected="Select an options">Select from list</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="district_name" class="form-label">Zone Name</label>
                        <div class="input-group">
                            <select class="form-select" aria-label="Default select example" id="status_type">
                                <option selected="Select an options">Select from list</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="district_name" class="form-label">Visitor Type</label>
                        <div class="input-group">
                            <select class="form-select" aria-label="Default select example" id="status_type">
                                <option selected="Select an options">Select from list</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="brdr"></div>
                <div class="row mt-2 mb-2">
                    <div class="col-md-12">

                        <div class="input-group srch_box">
                            <input type="text" name="Customer name" class="form-control" placeholder="Search" id="">
                            <button><i class="fa fa-search"></i></button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="slect_dv">

                            <div class="scrol_div pre_pln_pop_sc">
                                <div class="sech_list justify-content-start">
                                    <div class="cnk_slect me-7">

                                        <div class="form-check d-inline-block align-middle mb-2 me-3">
                                            <input class="form-check-input" type="radio" name="assigned"
                                                id="assigned_groups" checked="">
                                            <label class="form-check-label" for="assigned_groups"></label>
                                        </div>

                                        <div class="p_files">
                                            <img src="assets/images/profl-pic.png" alt="create">
                                            <div>
                                                <strong>Ghosh Hardware &amp; Iron</strong>
                                                <span>Relationship : Dealer</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="can_sc forday">
                                        <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                        <strong>4 day</strong>
                                        <span>Preplaned for next 30 days</span>


                                    </div>


                                </div>
                                <div class="sech_list justify-content-start">
                                    <div class="cnk_slect me-7">
                                        <div class="form-check d-inline-block align-middle mb-2 me-3">
                                            <input class="form-check-input" type="radio" name="assigned"
                                                id="assigned_groups" checked="">
                                            <label class="form-check-label" for="assigned_groups"></label>
                                        </div>
                                        <div class="p_files">
                                            <img src="assets/images/profl-pic.png" alt="create">
                                            <div>
                                                <strong>Ghosh Hardware &amp; Iron</strong>
                                                <span>Relationship : Dealer</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="can_sc forday">
                                        <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                        <strong>4 day</strong>
                                        <span>Preplaned for next 30 days</span>


                                    </div>


                                </div>
                                <div class="sech_list justify-content-start">
                                    <div class="cnk_slect me-7">

                                        <div class="form-check d-inline-block align-middle mb-2 me-3">
                                            <input class="form-check-input" type="radio" name="assigned"
                                                id="assigned_groups" checked="">
                                            <label class="form-check-label" for="assigned_groups"></label>
                                        </div>

                                        <div class="p_files">
                                            <img src="assets/images/profl-pic.png" alt="create">
                                            <div>
                                                <strong>Ghosh Hardware &amp; Iron</strong>
                                                <span>Relationship : Dealer</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="can_sc forday">
                                        <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                        <strong>4 day</strong>
                                        <span>Preplaned for next 30 days</span>


                                    </div>


                                </div>
                                <div class="sech_list justify-content-start">
                                    <div class="cnk_slect me-7">
                                        <div class="form-check d-inline-block align-middle mb-2 me-3">
                                            <input class="form-check-input" type="radio" name="assigned"
                                                id="assigned_groups" checked="">
                                            <label class="form-check-label" for="assigned_groups"></label>
                                        </div>
                                        <div class="p_files">
                                            <img src="assets/images/profl-pic.png" alt="create">
                                            <div>
                                                <strong>Ghosh Hardware &amp; Iron</strong>
                                                <span>Relationship : Dealer</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="can_sc forday">
                                        <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                        <strong>4 day</strong>
                                        <span>Preplaned for next 30 days</span>


                                    </div>


                                </div>
                                <div class="sech_list justify-content-start">
                                    <div class="cnk_slect me-7">

                                        <div class="form-check d-inline-block align-middle mb-2 me-3">
                                            <input class="form-check-input" type="radio" name="assigned"
                                                id="assigned_groups" checked="">
                                            <label class="form-check-label" for="assigned_groups"></label>
                                        </div>

                                        <div class="p_files">
                                            <img src="assets/images/profl-pic.png" alt="create">
                                            <div>
                                                <strong>Ghosh Hardware &amp; Iron</strong>
                                                <span>Relationship : Dealer</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="can_sc forday">
                                        <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                        <strong>4 day</strong>
                                        <span>Preplaned for next 30 days</span>


                                    </div>


                                </div>
                                <div class="sech_list justify-content-start">
                                    <div class="cnk_slect me-7">
                                        <div class="form-check d-inline-block align-middle mb-2 me-3">
                                            <input class="form-check-input" type="radio" name="assigned"
                                                id="assigned_groups" checked="">
                                            <label class="form-check-label" for="assigned_groups"></label>
                                        </div>
                                        <div class="p_files">
                                            <img src="assets/images/profl-pic.png" alt="create">
                                            <div>
                                                <strong>Ghosh Hardware &amp; Iron</strong>
                                                <span>Relationship : Dealer</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="can_sc forday">
                                        <i class="fa fa-circle text-success" aria-hidden="true"></i>
                                        <strong>4 day</strong>
                                        <span>Preplaned for next 30 days</span>


                                    </div>


                                </div>



                            </div>
                        </div>
                    </div>

                </div>

                <div class="row">

                    <div class="col-md-7">

                        <div class="input-group">
                            <select class="form-select" aria-label="Default select example" id="status_type">
                                <option selected="Select an options">Select Category</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-5">

                        <div class="input-group">
                            <div class="dt_fld w-100"><input type="date" placeholder="Search"
                                    class="form-control input-sm"><i class="fa fa-calendar"></i></div>
                        </div>
                    </div>
                </div>

                <div class="row mt-2 mb-2">
                    <div class="col-md-12">

                        <div class="input-group srch_box">
                            <textarea name="" class="form-control" placeholder="Additional Note here" id=""></textarea>

                        </div>
                    </div>
                </div>



            </div>
            <button class="btn btn-success btn-lg d-block w-25 mb-3 ms-auto me-auto p-3">Create the visit
                Plan</button>
        </div>
    </div>
    <!-- </div> -->
</ng-template>
<!-- </div> -->